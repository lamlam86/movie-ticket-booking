<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Seat</title>
    <link rel="stylesheet" href="./assets/css/style.css"></link>
</head>
<body>
    <div class="container">
        <h2>Seat</h2>
        <div class="seat-map" id="seatMap">
            <!-- Seat rows will be rendered here by JS -->
        </div>
        <div class="screen">X</div>
    </div>
    <div class="summary-bar">
        <div class="summary-section">
            <span class="summary-label">TOTAL</span>
            <span class="summary-value" id="totalPrice">RM 0.00</span>
        </div>
        <div class="summary-section">
            <span class="summary-label">SEAT</span>
            <span class="summary-value" id="selectedSeats">None</span>
        </div>
        <div class="actions">
            <button class="btn back" onclick="window.history.back()">Back</button>
            <button class="btn pay" id="payBtn">Proceed Payment</button>
        </div>
    </div>
    <script>
        // Seat layout data
        const seatRows = [
            ['A1','A2','A3','A4','A5','A6','A7','A8','A9','A10'],
            ['B1','B2','B3','B4','B5','B6','B7','B8','B9','B10'],
            ['C1','C2','C3','C4','C5','C6','C7','C8','C9','C10'],
            ['D1','D2','D3','D4','D5','D6','D7','D8','D9','D10'],
            ['E1','E2','E3','E4','E5','E6','E7','E8','E9','E10'],
            ['F1','F2','F3','F4','F5','F6','F7','F8','F9','F10'],
            ['G1','G2','G3','G4','G5','G6','G7','G8','G9','G10'],
        ];
        const seatPrice = 18.95; // RM per seat

        // Example: some seats are already taken
        const takenSeats = [];

        // Selected seats
        let selected = [];

        // Render seat map
        const seatMapDiv = document.getElementById('seatMap');
        seatRows.forEach(row => {
            const rowDiv = document.createElement('div');
            rowDiv.className = 'row';
            row.forEach(seat => {
                const btn = document.createElement('button');
                btn.className = 'seat';
                btn.textContent = seat;
                if (takenSeats.includes(seat)) {
                    btn.disabled = true;
                }
                btn.onclick = () => {
                    if (selected.includes(seat)) {
                        selected = selected.filter(s => s !== seat);
                        btn.classList.remove('selected');
                    } else {
                        selected.push(seat);
                        btn.classList.add('selected');
                    }
                    updateSummary();
                };
                rowDiv.appendChild(btn);
            });
            seatMapDiv.appendChild(rowDiv);
        });

        // Update summary bar
        function updateSummary() {
            document.getElementById('selectedSeats').textContent = selected.length ? selected.join(', ') : 'None';
            document.getElementById('totalPrice').textContent = `RM ${(selected.length * seatPrice).toFixed(2)}`;
        }

        // Payment button
        document.getElementById('payBtn').onclick = () => {
            if (selected.length === 0) {
                alert('Please select at least one seat.');
                return;
            }
            alert(`Proceeding to payment for seats: ${selected.join(', ')}\nTotal: RM ${(selected.length * seatPrice).toFixed(2)}`);
            // Redirect/payment logic here
        };

        // Initial summary
        updateSummary();
    </script>
</body>